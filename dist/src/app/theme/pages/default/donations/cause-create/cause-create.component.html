<!-- BEGIN: Subheader -->
<div class="m-subheader" appunwraptag="">
	<div class="d-flex align-items-center">
		<div class="mr-auto">
			<h3 class="m-subheader__title m-subheader__title--separator">
				Create Donation Cause
			</h3>
			<ul class="m-subheader__breadcrumbs m-nav m-nav--inline">
				<li class="m-nav__item m-nav__item--home">
					<a href="#" class="m-nav__link m-nav__link--icon">
						<i class="m-nav__link-icon la la-home"></i>
					</a>
				</li>
				<li class="m-nav__separator">
					-
				</li>
				<li class="m-nav__item">
					<a href="" class="m-nav__link">
						<span class="m-nav__link-text">
							Donation
						</span>
					</a>
				</li>
				<li class="m-nav__separator">
					-
				</li>
				<li class="m-nav__item">
					<a href="" class="m-nav__link">
						<span class="m-nav__link-text">
							Cause
						</span>
					</a>
				</li>
				<li class="m-nav__separator">
					-
				</li>
				<li class="m-nav__item">
					<a href="" class="m-nav__link">
						<span class="m-nav__link-text">
							Create Donation Cause
						</span>
					</a>
				</li>
			</ul>
		</div>
		<div>
			<div class="m-dropdown m-dropdown--inline m-dropdown--arrow m-dropdown--align-right m-dropdown--align-push" m-dropdown-toggle="hover"
			 aria-expanded="true">
				<a href="#" class="m-portlet__nav-link btn btn-lg btn-secondary  m-btn m-btn--outline-2x m-btn--air m-btn--icon m-btn--icon-only m-btn--pill  m-dropdown__toggle">
					<i class="la la-plus m--hide"></i>
					<i class="la la-ellipsis-h"></i>
				</a>
				<div class="m-dropdown__wrapper">
					<span class="m-dropdown__arrow m-dropdown__arrow--right m-dropdown__arrow--adjust"></span>
					<div class="m-dropdown__inner">
						<div class="m-dropdown__body">
							<div class="m-dropdown__content">
								<ul class="m-nav">
									<li class="m-nav__section m-nav__section--first m--hide">
										<span class="m-nav__section-text">
											Quick Actions
										</span>
									</li>
									<li class="m-nav__item">
										<a href="" class="m-nav__link">
											<i class="m-nav__link-icon flaticon-share"></i>
											<span class="m-nav__link-text">
												Activity
											</span>
										</a>
									</li>
									<li class="m-nav__item">
										<a href="" class="m-nav__link">
											<i class="m-nav__link-icon flaticon-chat-1"></i>
											<span class="m-nav__link-text">
												Messages
											</span>
										</a>
									</li>
									<li class="m-nav__item">
										<a href="" class="m-nav__link">
											<i class="m-nav__link-icon flaticon-info"></i>
											<span class="m-nav__link-text">
												FAQ
											</span>
										</a>
									</li>
									<li class="m-nav__item">
										<a href="" class="m-nav__link">
											<i class="m-nav__link-icon flaticon-lifebuoy"></i>
											<span class="m-nav__link-text">
												Support
											</span>
										</a>
									</li>
									<li class="m-nav__separator m-nav__separator--fit"></li>
									<li class="m-nav__item">
										<a href="#" class="btn btn-outline-danger m-btn m-btn--pill m-btn--wide btn-sm">
											Submit
										</a>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<!-- END: Subheader -->
<div class="m-content">
	<div class="row">
		<div class="col-lg-12">
			<!--begin::Portlet-->
			<div class="m-portlet m-portlet--last m-portlet--head-lg m-portlet--responsive-mobile" id="main_portlet">
				<div class="m-portlet__head">
					<div class="m-portlet__head-progress">
						<!-- here can place a progress bar-->
					</div>
					<div class="m-portlet__head-wrapper">
						<div class="m-portlet__head-caption">
							<div class="m-portlet__head-title">
								<h3 class="m-portlet__head-text">
									Create Donation Cause
								</h3>
							</div>
						</div>
						<div class="m-portlet__head-tools">
							<a routerLink="/donations/cause-management" class="btn btn-secondary m-btn m-btn--icon m-btn--wide m-btn--md m--margin-right-10">
								<span>
									<i class="la la-arrow-left"></i>
									<span>
										Back
									</span>
								</span>
							</a>
							<div class="btn-group">
								<button type="button" class="btn btn-accent  m-btn m-btn--icon m-btn--wide m-btn--md" (click)="create()">
									<span>
										<i class="la la-check"></i>
										<span>
											Save
										</span>
									</span>
								</button>
								<button type="button" class="btn btn-accent  dropdown-toggle dropdown-toggle-split m-btn m-btn--md" data-toggle="dropdown"
								 aria-haspopup="true" aria-expanded="false"></button>
								<div class="dropdown-menu dropdown-menu-right">
									<a class="dropdown-item" (click)="create()">
										<i class="la la-plus"></i>
										Save & New
									</a>
									<a class="dropdown-item" href="#">
										<i class="la la-copy"></i>
										Save & Duplicate
									</a>
									<a class="dropdown-item" href="#">
										<i class="la la-undo"></i>
										Save & Close
									</a>
									<div class="dropdown-divider"></div>
									<a class="dropdown-item" routerLink="/donations/cause-management">
										<i class="la la-close"></i>
										Cancel
									</a>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="m-portlet__body">
					<form [formGroup]="createForm" class="m-form m-form--label-align-left- m-form--state-" id="m_form">
						<!--begin: Form Body -->
						<div class="m-portlet__body">
							<div class="row">
								<div class="col-xl-8 offset-xl-2">

									<div class="m-form__section m-form__section--first">
										<div class="form-group m-form__group row">
											<label class="col-xl-3 col-lg-3 col-form-label">
												* Cause Name:
											</label>
											<div class="col-xl-9 col-lg-9">
												<input type="text" formControlName="CauseName" required name="CauseName" class="form-control m-input" placeholder="Eg: One dollar mission"
												 value="">
												<span *ngIf="!formError" class="m-form__help">
													Please enter cause title
												</span>
												<span *ngIf="formError" class="m--font-danger" [hidden]="createForm.get('Title').valid && createForm.get('Title').dirty ">
													Please enter cause title
												</span>
											</div>
										</div>
										<div class="form-group m-form__group row">
											<label class="col-xl-3 col-lg-3 col-form-label">
												* Description:
											</label>
											<div class="col-xl-9 col-lg-9">
												<textarea formControlName="Description" required name="description" class="form-control m-input" placeholder="Eg: One dollar mission"></textarea>
												<span *ngIf="!formError" class="m-form__help">
													Please enter cause description
												</span>
												<span *ngIf="formError" class="m--font-danger" [hidden]="createForm.get('Description').valid && createForm.get('Description').dirty ">
													Please enter cause description
												</span>
											</div>
										</div>
										<div class="form-group m-form__group row">
											<label class="col-xl-3 col-lg-3 col-form-label">
												* Websites:
											</label>
											<div class="col-xl-9 col-lg-9">
												<select class="form-control m-select2" formControlName="SubApplications" id="subapplications" name="subapplications" multiple="multiple">
												</select>
												<span *ngIf="!formError" class="m-form__help">
													Please select cause allowed websites
												</span>
												<span *ngIf="formError" class="m--font-danger" [hidden]="createForm.get('SubApplications').valid && createForm.get('SubApplications').dirty ">
													Please select cause allowed websites
												</span>
											</div>
										</div>
										<div class="form-group m-form__group row">
											<label class="col-xl-3 col-lg-3 col-form-label">
												Accept type
											</label>
											<div class="col-xl-9 col-lg-9">
												<label class="m-checkbox">

													<input type="checkbox" formControlName="AcceptAnyAmount" (change)="$event.target.checked ? (this.createForm.controls.AcceptAnyAmount.setValue(1)) : this.createForm.controls.AcceptAnyAmount.setValue(0)"> Accept any Amount
													<span></span>
												</label>
											</div>
										</div>
										<div class="form-group m-form__group row">
											<label class="col-xl-3 col-lg-3 col-form-label">
												* Restricted countries:
											</label>
											<div class="col-xl-9 col-lg-9">
												<select class="form-control m-select2" formControlName="RestrictedCountries" name="RestrictedCountries" id="RestrictedCountries"
												 multiple="multiple">
												</select>
												<span *ngIf="!formError" class="m-form__help">
													Please select the country which associated with payment process
												</span>
												<span *ngIf="formError" class="m--font-danger" [hidden]="createForm.get('RestrictedCountries').valid && createForm.get('RestrictedCountries').dirty ">
													Please select the country which associated with payment process
												</span>
											</div>
										</div>
										<div class="form-group m-form__group row">
											<label class="col-xl-3 col-lg-3 col-form-label">
												Payment Account Type
											</label>
											<div class="col-xl-9 col-lg-9">
												<label class="m-radio">
													<input type="radio" formControlName="PaymentAccountType" value="1" [checked]=true (change)="ChangePaymentAccount()"> Single account
													<span></span>
												</label>
												<label class="m-radio">
													<input type="radio" formControlName="PaymentAccountType" value="2" (change)="ChangePaymentAccount()"> Multiple account
													<span></span>
												</label>
											</div>
										</div>
									</div>
									<!-- <div class="m-form__section m-form__section--second" [hidden]="createForm.value.PaymentAccountType!=1">
										<div class="form-group m-form__group" formArrayName="PaymentCountryOptions" *ngFor="let option of createForm.get('PaymentCountryOptions').controls; let i = index;">
											<div [formGroupName]="i">
												<div class="row">
													<label class="col-xl-3 col-lg-3 col-form-label">
														* Payment Country:
													</label>
													<div class="col-xl-9 col-lg-9 row">
														<div class="col-md-3">
															<div class="m-form__group m-form__group--inline">
																<div class="m-form__control">
																	<select formControlName="PrimaryCountryId" name="PrimaryCountryId" class="form-control m-input">
																		<option value="0">Select any</option>
																		<option *ngFor="let country of primCountryList" value="{{country.Id}}">{{country.Name}}</option>
																	</select>
																</div>
															</div>
														</div>
														<div class="col-md-3">
															<div class="m-form__group m-form__group--inline">
																<div class="m-form__control">
																	<input type="text" formControlName="CurrencyCountryId" class="form-control m-input" placeholder="Currency">
																</div>
															</div>
														</div>
														<div class="col-md-3">
															<div class="m-form__group m-form__group--inline" [hidden]="createForm.value.AcceptAnyAmount!=1">
																<div class="m-form__control">
																	<input type="text" formControlName="MinimumAmount" class="form-control m-input" placeholder="Minimum Amount">
																</div>
															</div>
														</div>
													</div>
												</div>
												<div class="form-group  m-form__group row">
													<label class="col-lg-3 col-form-label">
														Payment options :
													</label>
													<div class="col-lg-9">
														<div class="form-group m-form__group align-items-center" formArrayName="Options" *ngFor="let option2 of option.controls['Options'].controls; let ex = index;">
															<div [formGroupName]="ex">
																<div class="row">
																	<div class="col-md-3">
																		<div class="m-form__group m-form__group--inline">
																			<div class="m-form__control">
																				<input type="text" formControlName="PaymentText" class="form-control m-input" placeholder="Payment option text">
																			</div>
																		</div>
																		<div class="d-md-none m--margin-bottom-10"></div>
																	</div>
																	<div class="col-md-3">
																		<div class="m-form__group m-form__group--inline">
																			<div class="m-form__control">
																				<input type="text" formControlName="Amount" class="form-control m-input" placeholder="Amount">
																			</div>
																		</div>
																		<div class="d-md-none m--margin-bottom-10"></div>
																	</div>
																	<div class="col-md-3">
																		<div class="m-form__group m-form__group--inline">
																			<div class="m-form__control">
																				<input type="text" formControlName="RecurringFrequency" class="form-control m-input" placeholder="Recurring Frequency">
																			</div>
																		</div>
																		<div class="d-md-none m--margin-bottom-10"></div>
																	</div>
																	<div class="col-md-3">
																		<div class="btn-sm btn btn-danger m-btn m-btn--icon m-btn--pill" (click)="removeOption(ex)">
																			<span>
																				<i class="la la-trash-o"></i>
																				<span>
																					Delete
																				</span>
																			</span>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
											<div class="m-form__group form-group">
												<label class="col-lg-3 col-form-label"></label>
												<div class="col-lg-4">
													<div (click)="addOption(i)" class="btn btn btn-sm btn-brand m-btn m-btn--icon m-btn--pill m-btn--wide">
														<span>
															<i class="la la-plus"></i>
															<span>
																Add
															</span>
														</span>
													</div>
												</div>
											</div>
										</div>
									</div> -->


									<div class="m-form__section m-form__section--third">
										<div class="form-group m-form__group" formArrayName="PaymentOptions" *ngFor="let option of createForm.get('PaymentOptions').controls; let i = index;">
											<div [formGroupName]="i">
												<div class="row">
													<label class="col-xl-3 col-lg-3 col-form-label">
														* Payment Country:
													</label>
													<div class="col-xl-9 col-lg-9 row">
														<div class="col-md-3">
															<div class="m-form__group m-form__group--inline">
																<div class="m-form__control">
																	<select formControlName="PrimaryCountryId" name="PrimaryCountryId" class="form-control m-input">
																		<option value="0">Select any</option>
																		<option *ngFor="let country of primCountryList" value="{{country.Id}}">{{country.Name}}</option>
																	</select>
																</div>
															</div>
														</div>
														<div class="col-md-3">
															<div class="m-form__group m-form__group--inline">
																<div class="m-form__control">
																	<select formControlName="CurrencyCode" class="form-control m-input">
																		<option value="0">Select any</option>
																		<option *ngFor="let currency of CurrencyList" value="{{currency.CurrencyCode}}">{{currency.CurrencyText}}</option>
																	</select>
																</div>
															</div>
														</div>
														<div class="col-md-3">
															<div class="m-form__group m-form__group--inline" [hidden]="createForm.value.AcceptAnyAmount!=1">
																<div class="m-form__control">
																	<input type="text" formControlName="MinimumAmount" class="form-control m-input" placeholder="Minimum Amount">
																</div>
															</div>
														</div>
													</div>
												</div>
												<div class="form-group  m-form__group row">
													<label class="col-lg-3 col-form-label">
														Payment options :
													</label>
													<div class="col-lg-9">
														<div class="form-group m-form__group align-items-center" formArrayName="PaymentOptionValues" *ngFor="let option2 of option.controls['PaymentOptionValues'].controls; let ex = index;">
															<div [formGroupName]="ex">
																<div class="row">
																	<div class="col-md-3">
																		<div class="m-form__group m-form__group--inline">
																			<div class="m-form__control">
																				<input type="text" formControlName="Amount" class="form-control m-input" (keyup)="option2.controls['PaymentOptionText'].setValue(option2.get('Amount').value)" placeholder="Amount">
																			</div>
																		</div>
																		<div class="d-md-none m--margin-bottom-10"></div>
																	</div>
																	<div class="col-md-3">
																		<div class="m-form__group m-form__group--inline">
																			<div class="m-form__control">
																				<input type="text" formControlName="PaymentOptionText" class="form-control m-input" placeholder="Payment option text">
																			</div>
																		</div>
																		<div class="d-md-none m--margin-bottom-10"></div>
																	</div>
																	<div class="col-md-3">
																		<div class="m-form__group m-form__group--inline">
																			<div class="m-form__control">
																				<select formControlName="FrequencyId" class="form-control m-input">
																					<option value="0">Select any</option>
																					<option *ngFor="let frequency of frequencyList" value="{{frequency.Id}}">{{frequency.RecurringFrequency}}</option>
																				</select>
																			</div>
																		</div>
																		<div class="d-md-none m--margin-bottom-10"></div>
																	</div>
																	<div class="col-md-3">
																		<div class="btn-sm btn btn-danger m-btn m-btn--icon m-btn--pill" (click)="removeOption(ex)">
																			<span>
																				<span>
																					<i class="la la-close"></i>
																				</span>
																			</span>
																		</div>
																	</div>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>

											<div class="row form-group  m-form__group ">
												<div class="col-md-3 offset-md-3">
													<div class="m-form__group form-group">
														<div (click)="addOption(i)" class="btn btn btn-sm btn-brand m-btn m-btn--icon m-btn--pill m-btn--wide">
															<span>
																<i class="la la-plus"></i>
																<span>
																	Add
																</span>
															</span>
														</div>
													</div>
												</div>
												<div class="col-md-1 offset-md-5" [hidden]="createForm.value.PaymentAccountType==1">
													<div class="m-form__group form-group row" (click)="removeCountryOption(i)">
														<div class="btn-sm btn btn-danger m-btn m-btn--icon m-btn--pill">
															<span>
																<i class="la la-trash-o"></i>
																<span>
																	Delete
																</span>
															</span>
														</div>
													</div>
												</div>
											</div>
											<div class="m-form__seperator m-form__seperator--dashed  m-form__seperator--space m--margin-bottom-40" [hidden]="createForm.value.PaymentAccountType==1"></div>
										</div>
										<div class="m-form__group form-group row" [hidden]="createForm.value.PaymentAccountType==1">
											<label class="col-lg-3 col-form-label"></label>
											<div class="col-lg-2 offset-md-7">
												<div (click)="addCountry()" class="btn btn btn-sm btn-brand m-btn m-btn--icon m-btn--pill m-btn--wide">
													<span>
														<i class="la la-plus"></i>
														<span>
															Add Country
														</span>
													</span>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</form>
				</div>
				<div class="m-portlet__foot m-portlet_foot_save_right">
					<div class="m-portlet__head-tools">
						<a routerLink="/donations/cause-management" class="btn btn-secondary m-btn m-btn--icon m-btn--wide m-btn--md m--margin-right-10">
							<span>
								<i class="la la-arrow-left"></i>
								<span>
									Back
								</span>
							</span>
						</a>
						<div class="btn-group">
							<button type="button" class="btn btn-accent  m-btn m-btn--icon m-btn--wide m-btn--md" (click)="create()">
								<span>
									<i class="la la-check"></i>
									<span>
										Save
									</span>
								</span>
							</button>
							<button type="button" class="btn btn-accent  dropdown-toggle dropdown-toggle-split m-btn m-btn--md" data-toggle="dropdown"
							 aria-haspopup="true" aria-expanded="false"></button>
							<div class="dropdown-menu dropdown-menu-right">
								<a class="dropdown-item" (click)="create()">
									<i class="la la-plus"></i>
									Save & New
								</a>
								<a class="dropdown-item" href="#">
									<i class="la la-copy"></i>
									Save & Duplicate
								</a>
								<a class="dropdown-item" href="#">
									<i class="la la-undo"></i>
									Save & Close
								</a>
								<div class="dropdown-divider"></div>
								<a class="dropdown-item" routerLink="/donations/cause-management">
									<i class="la la-close"></i>
									Cancel
								</a>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--end::Portlet-->
		</div>
	</div>
</div>